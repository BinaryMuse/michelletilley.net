{% extends "base.html" %}

{% block title %}{{ page.title }} | {{ config.title }}{% endblock %}
{% block description %}{{ page.description | default(value=config.description) }}{% endblock %}

{% block og_type %}article{% endblock %}
{% block og_title %}{{ page.title }}{% endblock %}
{% block og_description %}{{ page.description | default(value=config.description) }}{% endblock %}

{% block twitter_title %}{{ page.title }}{% endblock %}
{% block twitter_description %}{{ page.description | default(value=config.description) }}{% endblock %}

{% block article_meta %}
<meta property="article:published_time" content="{{ page.date | date(format="%Y-%m-%dT%H:%M:%S") }}+00:00" />
{% if page.updated %}
<meta property="article:modified_time" content="{{ page.updated | date(format="%Y-%m-%dT%H:%M:%S") }}+00:00" />
{% endif %}
{% if page.taxonomies.categories %}
{% for tag in page.taxonomies.categories %}
<meta property="article:tag" content="{{ tag }}" />
{% endfor %}
{% endif %}
<meta property="article:author" content="{{ config.extra.author }}" />
{% endblock %}

{% block content %}
<article class="post">
  <header class="post-header">
    <h1>{{ page.title }}</h1>
    <time datetime="{{ page.date }}">{{ page.date | date(format="%B %d, %Y") }}</time>
    {% if page.taxonomies.categories %}
    <span class="categories">
      {% for cat in page.taxonomies.categories %}
      <a href="/categories/{{ cat | slugify }}">{{ cat }}</a>
      {% endfor %}
    </span>
    {% endif %} {% if page.description %}
    <p style="margin-top: var(--space-sm)">{{ page.description | safe }}</p>
    {% endif %}
  </header>

  <div class="post-content">
    {{ page.content | safe }}
  </div>

  <nav class="post-nav">
    {% if page.earlier %}
    <span class="prev">&larr; <a href="{{ page.earlier.permalink }}">{{ page.earlier.title }}</a></span>
    {% endif %}
    {% if page.later %}
    <span class="next"><a href="{{ page.later.permalink }}">{{ page.later.title }}</a> &rarr;</span>
    {% endif %}
  </nav>
</article>
{% endblock %}
